{"version":3,"file":"static/js/71.7076f8cf.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetailsPage/movie-details.module.scss?1161","pages/MovieDetailsPage/MovieDetails.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx","shared/services/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"basic\":\"movie-details_basic__Fku-Y\",\"basicInfo\":\"movie-details_basicInfo__Og6ku\",\"title\":\"movie-details_title__2d0WD\",\"button\":\"movie-details_button__dDuHU\"};","import PropTypes from 'prop-types';\n\n\nimport s from \"./movie-details.module.scss\";\n\n\n\nconst BASE_URL = \"https://image.tmdb.org/t/p/w200\"\n\nconst MovieDetails = ({ data }) => {\n    console.log(data);\n\n    const { poster_path, title, tagline, release_date, vote_average, overview, genres } = data;\n    \n    console.log(genres);\n    console.log(release_date);\nconst listOfGenres = [...new Set(genres.map(genre => genre.name))];\n\n    return (\n        <main>\n            <div className=\"container\">\n          <div className={s.basic}>\n                    <div className={s.basicPoster}>\n                        <img className={s.basicPoster__Img} src={`${BASE_URL}${poster_path}`} alt={tagline} />\n                    </div>\n                    <div className={s.basicInfo}>\n                        <h2>{`${title} (${release_date.substr(0, 4)})`}</h2>\n                        <p>User score: {`${Number(vote_average) * 10}%`}</p>\n                        <h3 className={s.title}>Overview</h3>\n                        {overview}\n                        <h4 className={s.title}>Genres</h4>\n                        {listOfGenres.join(' ')}\n                    </div>\n                </div>\n                <div className={s.add}>\n                    <h4 className={s.title}> Additional information</h4>\n                    <ul className={s.addList}>\n                    \n                    </ul>         \n                </div>  \n            </div>\n        </main>\n       \n    )\n};\n\nMovieDetails.propTypes = {\n//    PropTypes.objectOf(\n    data:PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      tagline: PropTypes.string,\n      release_date: PropTypes.string,\n      vote_average: PropTypes.number,\n      overview: PropTypes.string,\n        genres: PropTypes.arrayOf(PropTypes.shape({\n          name: PropTypes.string.isRequired\n      })),\n    })  \n  };\n\nexport default MovieDetails;","import { useState, useEffect } from \"react\";\nimport { useParams, useNavigate, useLocation, Link, Outlet } from \"react-router-dom\";\nimport { getMovieDetails } from \"../../shared/services/movies\";\nimport MovieDetails from \"./MovieDetails\";\nimport s from \"./movie-details.module.scss\";\n\nconst MovieDetailsPage = () => {\n\nconst [state, setState] = useState({\n        data: {},\n        loading: false,\n        err: null\n});\n    \n    const { movieId } = useParams();\n       // console.log(movieId);\n\n    useEffect(() => {\n        const fetchMovieDetails = async () => {\n                                   \n            try {\n                setState(prevState => ({ ...prevState, loading: true }))\n                const data = await getMovieDetails(movieId);\n                \n                console.log(data);\n                \n                setState(prevState => ({\n                    ...prevState,\n                    data,\n                    loading: false\n                }))\n            } catch (error) {\n                setState(prevState => ({ ...prevState, loading: false, error }))\n            }\n        };\n        fetchMovieDetails();\n        \n    }, [movieId]);\n\n    const { data, loading } = state;\n\n    const location = useLocation()\n    const from = location.state?.from;\n    console.log(from)\n    \n    const navigate = useNavigate();\n    const goBack = () => navigate(-1);    \n    \n    \n    return (\n        <main>\n            <div className=\"container\">\n               \n                {loading && <p>...Loading</p>}\n               \n        <button className={s.button} onClick={goBack}>&#8592; Go back</button>\n                {Boolean(Object.keys(data).length) && <MovieDetails data={data} />}\n\n                <li className=\"list-item\"><Link to={`/movies/${movieId}/cast`}>Cast</Link></li>\n                <li className=\"list-item\"><Link to={`/movies/${movieId}/reviews`}>Reviews</Link></li>\n                    <Outlet />\n\n            </div>\n        </main>\n    )\n};\n\nexport default MovieDetailsPage;","import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: \"https://api.themoviedb.org/3\",\n     \n    params: {\n        api_key: \"f05a275bd04be2a259f3c9758d33fde7\",\n        language: \"en-US\",\n    }\n});\n\nexport const getMovies = async () => {\n    const { data } = await instance.get(\"/trending/movie/day\");\n    return data;\n};\n\nexport const getMovieDetails = async movieId => {\n    const { data } = await instance.get(`/movie/${movieId}`);\n    return data;\n};\n\nexport const getMovieCredits = async movieId => {\n    const { data } = await instance.get(`/movie/${movieId}/credits`);\n    return data;\n};\n\nexport const getMovieReviews = async movieId => {\n    const { data } = await instance.get(`/movie/${movieId}/reviews`);\n    return data;\n};\nexport const searchMovies = async query => {\n    const { data } = await instance.get(`/search/movie`, {\n        params: {\n            query,            \n        }\n    });\n    return data;\n};"],"names":["data","console","log","poster_path","title","tagline","release_date","vote_average","overview","genres","listOfGenres","Set","map","genre","name","className","s","src","alt","substr","Number","join","useState","loading","err","state","setState","movieId","useParams","useEffect","fetchMovieDetails","prevState","getMovieDetails","error","from","useLocation","navigate","useNavigate","onClick","Boolean","Object","keys","length","to","instance","axios","baseURL","params","api_key","language","getMovies","get","getMovieCredits","getMovieReviews","searchMovies","query"],"sourceRoot":""}